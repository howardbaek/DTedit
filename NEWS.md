---
title: "NEWS"
author: "David Fong"
date: "27th June 2020"
output: html_document
---

## DTedit 2.3.2
13th November 2021

### Bugfix

* Better handling of tibbles. Convert to data.frame as soon as possible.

## DTedit 2.3.1
22nd October 2021

### Changes

* Caution in documentation regarding the potential return values of different
  `input.types`. For example, `textInput` cannot return a `NA` (issue #33)
* Documentation of using `tryCatch` inside callbacks (suggestion from @andresrcs,
  issue #34)
  
### Bugfix

* Co-erce `thedata` parameter to `as.data.frame` during insertion/modification of
  data when interpreting the data types of columns of `thedata`.
  + otherwise the interpretation of data types of the columns of `thedata` fails
  if `thedata` is a tibble.
  + it is recommended that `thedata` is a dataframe, not a tibble.
* Fix error if `checkboxinputvalue == NA`: missing value where TRUE/FALSE needed
  + `shiny::checkboxInput()` cannot handle a value of `NA`
  + convert to `FALSE` so `dtedit` does not crash.
  + pull request #35, written by Ben Best (@bbest)

## DTedit 2.3.0
27th August 2021

### New

* `inputEvent` allows custom response to changes in add/edit modal dialog inputs.
   Allows the use of `shinyFeedback` https://github.com/merlinoa/shinyFeedback
   (issue #17 and issue #9)
* `selectizeInput`, `selectizeInputReactive`, `selectizeInputMultiple` 
  `selectizeInputMultipleReactive` input options. uses  `shiny::selectizeInput`
  instead of `shiny::selectInput`
  - `selectize.options` - a list of options for `selectizeInput` variants. This
    can be the same list of options for *all* `selectize*` inputs, but can also
    be a named list of individually defined options, each named list must be
    the same as a `selectize*` editable column.
* `checkboxInput` for logical (TRUE/FALSE) values
  - by Matthias Hinz (@MatthiasHinz), resolving issue #19
  - `checkbox.width` to adjust checkbox widths

### Bug fix

* fix entering an empty (NA) date in `dateInput` and `datetimeInput` when
  editing an entry (issue #21)
* fix for error when there is only one editable column.
  - by Matthias Hinz (@MatthiasHinz)

### Internal changes

* use `shiny::throttle` for `click.time.threshold`
* add `logical` to `dtedit_test()`

## DTedit 2.2.3
21st October 2020

### New features

* `result$rows_selected` returns the row selected, issue #10

### Improvements

* testing for `datetimeInput`

### Bug fix

* adding row with `datetimeInput` did not work

### Other changes

* reactive_demo test set to R 4.0+ random number generator method
* removal of some tests from error_test due to unusual locale error

## DTedit 2.2.2
22nd August 2020

### New features

* `datetimeInput` for date and time input of `POSIXct` fields
  + requires `useairDatepicker` to be set to TRUE
  + associated option `datetime.width` to set width of input widget
* `useairDatepicker` allows use of `shinyWidgets` date/time picker
  + requires `shinyWidgets` >= 0.5.2
  
### Bug fixes

* references to `class()` now just refer to the first value in the
  returned vector, as calls to `switch(class(x), ...)` failed when `class`
  returns a multi-element vector.
* fix `dteditmod`/`dteditmodUI` examples to accurately reflect actual use
  inside modules.

## DTedit 2.2.1
28th June 2020

### New features

* Custom icons for Add/Edit/Delete/Copy buttons
  + `icon.delete`, `icon.edit`, `icon.add` and `icon.copy`
  + by László Szakács (@cocinerox), after @vwrobel
* error messages, e.g. generated by `callback.insert`, can have HTML
  + by László Szakács (@cocinerox)

## DTedit 2.2.0
20th June 2020

### New features

* Allow definition of which data columns
  are displayed in the delete dialog, and how those columns are labelled.
  + `delete.info.cols` and `delete.info.label.cols`
  + written by László Szakács (@cocinerox)
* Allow display of rownames.
  + `datatable.rownames`. By default, set to `FALSE`.
  If set to `TRUE`, then row names are also displayed in edit and update modal dialogs.
  `datatable.rownames` must be set to `TRUE` if using `DT::format*()` functions in
  `datatable.call`.
* Allow changes in the transfer of data to `DT::renderDataTable`
  + `datatable.call` For example this allows the use of `DT::format*()` functions.
  When using `DT::format*()` functions, note the warning in `datatable.rownames` above,
  as `datatable.rownames` must be set to `TRUE` to use `DT::format*()`. 
  See vignette and `help(dtedit)` for further details.
  + 'under the hood' there is a significant change in the way `DT::renderDataTable` is
  called. 
  + **This is a breaking change**. Previously, if unrecognized options were used when
  calling `dtedit`/`dteditmod`, the unrecognized options were passed through to
  `DT::renderDataTable`. If `DT::renderDatatable` did not recognize the options, those
  options were passed through to `DT::datatable`. However, since `DT::renderDataTable`
  is now called with the results of a `DT::datatable` call, instead of `thedata`,
  unrecognized options are *not* passed through to `DT::datatable` (this is a quirk
  of `DT::renderDataTable`). This change in behaviour can be worked around (by defining
  `datatable.call` with required `DT::datatable` options).

## DTedit 2.1.0
16th June 2020

### Changes (breaking)

* `dtedit`/`dteditmod` returns `reactiveValues`
  + `$thedata`, `$view.cols`, `$edit.cols`, `$edit.count`
  + compatible with `DTedit` version 1.0.0 but *not* compatible with versions 2.0.0/2.0.1

### New features

* Add parameters for text on save/cancel buttons and delete modal dialog
  + `label.save`, `label.cancel` and `text.delete.modal`
  + written by László Szakács (@cocinerox)

## DTedit 2.0.1
14th June 2020

### New features

* Vignette. Vignette also available on [RPubs](https://rpubs.com/DavidFong/DTedit).

### Improvements

* Passes checks with `devtools::check()` and [Travis CI](https://travis-ci.org/DavidPatShuiFong/DTedit).
* Code testing and coverage with `testthat`, `shinytest`, `covr` and [codecov](https://codecov.io/gh/DavidPatShuiFong/DTedit).
* Multiple examples, demonstrations and testing shiny applications.
  + Many accessible through `dtedit_*_demo` and `dtedit_test`
* Improvements in handling of input choices for `selectInputMultiple`

### Bug fixes

* inserting a new row failed with particular variable classes of columns - FIXED

## DTedit 2.0.0
7th June 2020

### New features

* Modularized version : `dteditmod` and `dteditmodUI`
* `thedata` can be a reactive, in which case `dtedit`'s copy of `thedata` will change when the reactive changes.
* `selectInputReactive` and `selectInputMultipleReactive` - 'reactive' versions of `selectInput` and `selectInputMultiple`. The valid options can dynamically change through reactivity.
* blob/raw columns which can be edited with the `fileInput` input type.
* action buttons with `action.buttons` option. Associated `callback.actionButtion` callback option.

### Changes

* `dtedit` and `dteditmod` return a list with `$thedata` and `$edit.count`.
  + `$view.cols` and `$edit.cols` are *not* returned.
* `suspendWhenHidden` is set to `FALSE`, allowing changes to be rendered when the table is not visible.

### Improvements

* add error handling to the delete modal defined in `callback.delete` option.
* `...` options to be passed to `DT::renderDataTable`
* many more examples

### Bug fixes

* `thedata` dataframe did not work if there was only one column - FIXED
* data columns can be delete during `updateData` function call if a column is empty - FIXED
* erroneous errors under certain conditions of choices for `selectInputMultiple` - FIXED
* module version `selectInput` did not show previously chosen option - FIXED 
  + Klodian Dhana (#1, @klodiandhana) (#febc655)

